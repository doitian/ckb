<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `module` mod in crate `ckb_rpc`."><meta name="keywords" content="rust, rustlang, rust-lang, module"><title>ckb_rpc::module - Rust</title><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../dark.css"><link rel="stylesheet" type="text/css" href="../../light.css" id="themeStyle"><script src="../../storage.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="shortcut icon" href="../../favicon.ico"><style type="text/css">#crate-search{background-image:url("../../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../../ckb_rpc/index.html'><div class='logo-container'><img src='../../rust-logo.png' alt='logo'></div></a><p class='location'>Module module</p><div class="sidebar-elems"><div class="block items"><ul><li><a href="#traits">Traits</a></li></ul></div><p class='location'><a href='../index.html'>ckb_rpc</a></p><script>window.sidebarCurrent = {name: 'module', ty: 'mod', relpath: '../'};</script><script defer src="../sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!"><img src="../../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices"></div></div><script src="../../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><a id="settings-menu" href="../../settings.html"><img src="../../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class='fqn'><span class='out-of-band'><span id='render-detail'><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class='inner'>&#x2212;</span>]</a></span><a class='srclink' href='../../src/ckb_rpc/module/mod.rs.html#1-145' title='goto source code'>[src]</a></span><span class='in-band'>Module <a href='../index.html'>ckb_rpc</a>::<wbr><a class="mod" href=''>module</a></span></h1><div class='docblock'><p>CKB RPC modules</p>
<p>This RPC document is generated by Rust Doc, so it will take some concept conversions to map
from the Rust structures to the JSONRPC.</p>
<h2 id="jsonrpc-methods" class="section-header"><a href="#jsonrpc-methods">JSONRPC Methods</a></h2>
<p>The section <a href="#traits">Traits</a> lists all the RPC modules. CKB allows enabling and disabling RPC
methods by modules. The default enabled ones are enabled modules are &quot;Net&quot;, &quot;Pool&quot;, &quot;Miner&quot;,
&quot;Chain&quot;, &quot;Stats&quot;, &quot;Subscription&quot;, &quot;Experiment&quot;. As you can see, the <code>Rpc</code> suffix is removed in
the config file.</p>
<p>The section <em>Required methods</em> lists all the RPC methods in the module. See module
<a href="trait.PoolRpc.html#required-methods">PoolRpc</a>.</p>
<p>Use the RPC <a href="trait.PoolRpc.html#tymethod.send_transaction"><code>send_transaction</code></a> in the module <code>PoolRpc</code> as an example.</p>
<pre><code class="language-text">fn send_transaction(
   ^^^^^^^^^^^^^^^^
               `-- JSONRPC method name
    &amp;self,
    ^^^^^
      `-- ignore this

  ,--------------------------------------------
  | tx: Transaction,
  | outputs_validator: Option&lt;OutputsValidator&gt;
  `--------------------------------------------
      `-- Request params list as pairs of &quot;name: Type&quot;

) -&gt; Result&lt;H256&gt;;
            ^^^^
             `-- Response Type
</code></pre>
<ul>
<li><code>send_transaction</code> - The JSONRPC method name.</li>
<li><code>tx: Transaction</code> - The first param in the request params list which name is <code>tx</code> and type is <code>Transaction</code>. The type links to the JSON object definition of a CKB transaction.</li>
<li><code>outputs_validator: Option&lt;OutputsValidator&gt;</code> - The second param. The <code>Option</code> shows that this argument is optional. The document for <code>OutputsValidator</code> shows that <code>outputs_validator</code> is an enum type which possible values include &quot;default&quot; and &quot;passthrough&quot;.</li>
<li><code>-&gt; Result&lt;H256&gt;</code> - The type inside the <code>Result</code> after <code>-&gt;</code> is the response type. In this example, it is <code>H256</code> which is a 32-bytes binary encoded as a hex string.</li>
</ul>
<h2 id="jsonrpc-deprecation-process" class="section-header"><a href="#jsonrpc-deprecation-process">JSONRPC Deprecation Process</a></h2>
<p>A CKB RPC method is deprecated in three steps.</p>
<p>First the method is marked as deprecated in the CKB release notes and RPC document. However,
the RPC method is still available. The RPC document will have the suggestion of the alternative
solutions.</p>
<p>The CKB dev team will disable any deprecated RPC methods starting from the next minor version
release. Users can enable the deprecated methods via the config file option <code>rpc.enable_deprecated_rpc</code>.</p>
<p>Once a deprecated method is disabled, the CKB dev team will remove it in a future minor version release.</p>
<p>For example, a method is marked as deprecated in 0.35.0, it can be disabled in 0.36.0 and
removed in 0.37.0. The minor versions are released monthly, so there's at least two month
buffer for a deprecated RPC method.</p>
<h2 id="json-cheatsheet" class="section-header"><a href="#json-cheatsheet">JSON Cheatsheet</a></h2>
<p>CKB uses a framework to serialize into and deserialize from JSON. Some Rust std-lib
structures will be used in requests and responses. The following cheatsheet shows how to
map them into JSON values.</p>
<table><thead><tr><th>Rust</th><th>JSON</th></tr></thead><tbody>
<tr><td><code>()</code></td><td><code>null</code></td></tr>
<tr><td><code>bool</code></td><td><code>boolean</code></td></tr>
<tr><td><code>String</code></td><td><code>string</code></td></tr>
<tr><td><code>Option&lt;T&gt;</code></td><td>either <code>null</code> or <code>T</code></td></tr>
<tr><td><code>Vec&lt;T&gt;</code></td><td>array of <code>T</code></td></tr>
</tbody></table>
<p>CKB RPC does not use JSON numbers because of the precision problem. Float point numbers are not
used in the RPC, and integers are encoded as 0x-prefixed hex string such as <code>0x10</code> for decimal
value 16.</p>
<p>The other types will have their own documentation pages. Unless the JSON format is explicitly
described in the documentation page, the rust Struct is serialized as a JSON object, and Enum is
serialized as a JSON string.</p>
<p>For example, <code>OutPoint</code> is a struct having the following fields</p>
<pre><code class="language-text">tx_hash: H256
index: Uint32
</code></pre>
<p>An example <code>OutPoint</code> JSON looks like</p>
<pre><code class="language-json">{
  &quot;index&quot;: &quot;0xffffffff&quot;,
   &quot;tx_hash&quot;: &quot;0x0000000000000000000000000000000000000000000000000000000000000000&quot;
}
</code></pre>
<p><code>Status</code> is a Rust enum</p>
<pre><code class="language-text">pub enum Status {
    Pending,
    Proposed,
    Committed,
}
</code></pre>
<p>The enum values are represented as JSON strings in the lowercase, underscore-concatenated form. So, in
JSON, <code>Status</code> can be one of &quot;pending&quot;, &quot;proposed&quot; or &quot;committed&quot;.</p>
</div><h2 id='traits' class='section-header'><a href="#traits">Traits</a></h2>
<table><tr class='module-item'><td><a class="trait" href="trait.AlertRpc.html" title='ckb_rpc::module::AlertRpc trait'>AlertRpc</a></td><td class='docblock-short'><p>RPC Module Alert for network alerts.</p>
</td></tr><tr class='module-item'><td><a class="trait" href="trait.ChainRpc.html" title='ckb_rpc::module::ChainRpc trait'>ChainRpc</a></td><td class='docblock-short'><p>RPC Module Chain for methods related to the canonical chain.</p>
</td></tr><tr class='module-item'><td><a class="trait" href="trait.DebugRpc.html" title='ckb_rpc::module::DebugRpc trait'>DebugRpc</a></td><td class='docblock-short'><p>RPC Module Debug for internal RPC methods.</p>
</td></tr><tr class='module-item'><td><a class="trait" href="trait.ExperimentRpc.html" title='ckb_rpc::module::ExperimentRpc trait'>ExperimentRpc</a></td><td class='docblock-short'><p>RPC Module Experiment for experimenting methods.</p>
</td></tr><tr class='module-item'><td><a class="trait" href="trait.IndexerRpc.html" title='ckb_rpc::module::IndexerRpc trait'>IndexerRpc</a></td><td class='docblock-short'><span class="stab deprecated">Deprecated</span><p>RPC Module Indexer which index cells by lock script hash.</p>
</td></tr><tr class='module-item'><td><a class="trait" href="trait.IntegrationTestRpc.html" title='ckb_rpc::module::IntegrationTestRpc trait'>IntegrationTestRpc</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="trait" href="trait.MinerRpc.html" title='ckb_rpc::module::MinerRpc trait'>MinerRpc</a></td><td class='docblock-short'><p>RPC Module Miner for miners.</p>
</td></tr><tr class='module-item'><td><a class="trait" href="trait.NetRpc.html" title='ckb_rpc::module::NetRpc trait'>NetRpc</a></td><td class='docblock-short'><p>RPC Module Net for P2P network.</p>
</td></tr><tr class='module-item'><td><a class="trait" href="trait.PoolRpc.html" title='ckb_rpc::module::PoolRpc trait'>PoolRpc</a></td><td class='docblock-short'><p>RPC Module Pool for transaction memory pool.</p>
</td></tr><tr class='module-item'><td><a class="trait" href="trait.StatsRpc.html" title='ckb_rpc::module::StatsRpc trait'>StatsRpc</a></td><td class='docblock-short'><p>RPC Module Stats for getting various statistic data.</p>
</td></tr><tr class='module-item'><td><a class="trait" href="trait.SubscriptionRpc.html" title='ckb_rpc::module::SubscriptionRpc trait'>SubscriptionRpc</a></td><td class='docblock-short'></td></tr></table></section><section id="search" class="content hidden"></section><section class="footer"></section><script>window.rootPath = "../../";window.currentCrate = "ckb_rpc";</script><script src="../../main.js"></script><script defer src="../../search-index.js"></script></body></html>